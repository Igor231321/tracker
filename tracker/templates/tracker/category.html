{% extends 'base.html' %}
{% load static %}

{% block title %}
  Категорія - {{ category.title }}
{% endblock %}

{% block content %}
  <section class="container">
    <div class="row">
      <div class="col-12">
        <div class="box">
          <h1 class="box__title text-start">{{ category.title }}</h1>

          <div class="row">
            <div class="col-4">
              <p class="box__text">
                {% if category_income %}
                  Прибуток: <span class="text-green">+{{ transactions_total_sum }} UAN</span>
                {% else %}
                  Витрачено: {{ transactions_total_sum }} UAN
                {% endif %}
              </p>
            </div>
            <div class="col-8">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">Транзакція</th>
                    <th scope="col" class="text-center">Сума</th>
                    <th scope="col" class="text-center">Дата та час</th>
                  </tr>
                </thead>
                <tbody>
                  {% for transation in transactions %}
                    <tr>
                      <th scope="row" class="fw-normal">{{ transation.description }}</th>
                      {% if category_income %}
                        <td class="text-green text-center">+{{ transation.amount }}</td>
                      {% else %}
                        <td class="text-center">-{{ transation.amount }}</td>
                      {% endif %}
                      <td class="text-center">{{ transation.created_at }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}
